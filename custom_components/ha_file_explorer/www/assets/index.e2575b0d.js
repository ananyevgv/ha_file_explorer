var O=Object.defineProperty,Q=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var j=(n,o,l)=>o in n?O(n,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[o]=l,d=(n,o)=>{for(var l in o||(o={}))W.call(o,l)&&j(n,l,o[l]);if(U)for(var l of U(o))X.call(o,l)&&j(n,l,o[l]);return n},z=(n,o)=>Q(n,R(o));import{d as T,r as G,a,o as _,c as r,w as t,b as e,u as M,e as s,f as Y,g as Z,m as q,h as A,i as D,j as I,_ as J,k as N,l as S,t as y,n as P,F as H,p as B}from"./index.7669640a.js";import{_ as tt}from"./AppLayout.f885ac35.js";const et=s(" \u53D6\u6D88 "),at=s(" \u786E\u5B9A "),K=T({props:["type","ok","cancel","app"],setup(n){const o=n,l=Y(),$=o.type==="file",F=$?"\u6587\u4EF6":"\u6587\u4EF6\u5939",u=o.app(),c=G(""),p=G(!0),h=()=>{o.cancel()},C=async()=>{if(!c.value)return;const m=l.getters.absolutePath(c.value);let i=await Z($?"file":"folder",m);u.$toast(i.msg),!(i.code>0)&&(l.dispatch("reloadFileList"),o.ok({}))};return(m,i)=>{const v=a("va-input"),k=a("va-button"),L=a("va-modal");return _(),r(L,{modelValue:p.value,"onUpdate:modelValue":i[1]||(i[1]=g=>p.value=g),title:M(F),"hide-default-actions":!0},{footer:t(()=>[e(k,{outline:"",onClick:h,style:{"margin-right":"20px"}},{default:t(()=>[et]),_:1}),e(k,{onClick:C,style:{"margin-left":"20px"}},{default:t(()=>[at]),_:1})]),default:t(()=>[e(v,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=g=>c.value=g),modelModifiers:{trim:!0},placeholder:`${M(F)}\u540D\u79F0`},null,8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])}}}),nt={computed:d(d({},q(["fileList"])),A(["absolutePath"])),methods:z(d({},D(["reloadFileList"])),{deleteClick(n){parent.confirm(`\u786E\u5B9A\u5220\u9664\u6587\u4EF6\u3010${n}\u3011\uFF1F`)&&I(this.absolutePath(n)).then(o=>{this.reloadFileList(),this.$toast(o.msg)})},editClick(n){this.$router.push({name:"editor",params:{name:n}})},addClick(){this.$dialog(K,{type:"file"})}})},ot=s(" \u6587\u4EF6\u5217\u8868 "),lt=s("\u65B0\u589E"),st=s("\u5220\u9664"),ct=s("\u7F16\u8F91");function _t(n,o,l,$,F,u){const c=a("va-button"),p=a("va-button-group"),h=a("va-button-dropdown"),C=a("va-card-title"),m=a("mdi-icon"),i=a("va-avatar"),v=a("va-list-item-section"),k=a("va-list-item-label"),L=a("va-chip"),g=a("va-list-item"),w=a("va-list"),x=a("va-card-content"),V=a("va-card");return _(),r(V,null,{default:t(()=>[e(C,null,{default:t(()=>[ot,e(h,{outline:"",size:"small"},{default:t(()=>[e(p,{size:"small"},{default:t(()=>[e(c,{onClick:u.addClick},{default:t(()=>[lt]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(w,{style:{"padding-top":"0"}},{default:t(()=>[(_(!0),N(H,null,S(n.fileList,(f,b)=>(_(),r(g,{key:b},{default:t(()=>[e(v,{avatar:""},{default:t(()=>[e(i,null,{default:t(()=>[e(m,{name:f.icon},null,8,["name"])]),_:2},1024)]),_:2},1024),e(v,null,{default:t(()=>[e(k,null,{default:t(()=>[s(y(f.name),1)]),_:2},1024),e(k,{caption:""},{default:t(()=>[s(y(f.time)+" ",1),f.size?(_(),r(L,{key:0,flat:"",size:"small"},{default:t(()=>[s(y(f.size),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1024),e(v,{icon:""},{default:t(()=>[e(h,{size:"small"},{default:t(()=>[e(p,{outline:"",size:"small"},{default:t(()=>[e(c,{onClick:E=>u.deleteClick(f.name)},{default:t(()=>[st]),_:2},1032,["onClick"]),e(c,{onClick:E=>u.editClick(f.name)},{default:t(()=>[ct]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}var it=J(nt,[["render",_t]]);const ut={computed:d(d({},q(["folderList","path"])),A(["pathList"])),methods:z(d({},D(["getFileList"])),{showClick(n){this.getFileList(n.name)},addClick(){this.$dialog(K,{type:"dir"})},deleteClick(){const{pathList:n}=this,{name:o}=n[n.length-1];parent.confirm(`\u786E\u5B9A\u5220\u9664\u6587\u4EF6\u5939\u3010${o}\u3011\uFF1F`)&&I(this.path).then(l=>{this.getFileList(n.length-2),this.$toast(l.msg)})}})},dt=s(" \u6587\u4EF6\u5939 "),rt=s("\u5220\u9664"),pt=s("\u65B0\u589E");function mt(n,o,l,$,F,u){const c=a("va-button"),p=a("va-button-group"),h=a("va-button-dropdown"),C=a("va-card-title"),m=a("mdi-icon"),i=a("va-avatar"),v=a("va-list-item-section"),k=a("va-list-item-label"),L=a("va-chip"),g=a("va-icon"),w=a("va-list-item"),x=a("va-list"),V=a("va-card-content"),f=a("va-card");return _(),r(f,null,{default:t(()=>[e(C,null,{default:t(()=>[dt,e(h,{outline:"",size:"small"},{default:t(()=>[e(p,{size:"small"},{default:t(()=>[n.pathList.length>1?(_(),r(c,{key:0,onClick:u.deleteClick},{default:t(()=>[rt]),_:1},8,["onClick"])):P("",!0),e(c,{onClick:u.addClick},{default:t(()=>[pt]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(x,{style:{"padding-top":"0"}},{default:t(()=>[(_(!0),N(H,null,S(n.folderList,(b,E)=>(_(),r(w,{key:E},{default:t(()=>[e(v,{avatar:""},{default:t(()=>[e(i,null,{default:t(()=>[e(m,{name:b.icon},null,8,["name"])]),_:2},1024)]),_:2},1024),e(v,null,{default:t(()=>[e(k,null,{default:t(()=>[s(y(b.name),1)]),_:2},1024),e(k,{caption:""},{default:t(()=>[s(y(b.time)+" ",1),b.size?(_(),r(L,{key:0,flat:"",size:"small"},{default:t(()=>[s(y(b.size),1)]),_:2},1024)):P("",!0)]),_:2},1024)]),_:2},1024),e(v,{icon:""},{default:t(()=>[e(g,{name:"remove_red_eye",color:"gray",onClick:gt=>u.showClick(b)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}var vt=J(ut,[["render",mt]]);const ft=s("\u6587\u4EF6\u7BA1\u7406"),ht={class:"row"},kt={class:"flex md6"},bt={class:"flex md6"},Ct={computed:d({},A(["pathList"])),created(){this.changePathClick(0)},methods:z(d({},D(["getFileList"])),{changePathClick(n){this.getFileList(n)}})},Lt=T(z(d({},Ct),{setup(n){return(o,l)=>{const $=a("va-button"),F=a("va-breadcrumbs-item"),u=a("va-breadcrumbs"),c=a("va-card-title"),p=a("va-card"),h=a("va-backtop");return _(),r(tt,{class:"views-index"},{left:t(()=>[e($,{color:"#fff",flat:"",rounded:!1},{default:t(()=>[ft]),_:1})]),right:t(()=>[]),default:t(()=>[e(p,null,{default:t(()=>[e(c,null,{default:t(()=>[e(u,null,{default:t(()=>[(_(!0),N(H,null,S(o.pathList,(C,m)=>(_(),r(F,{label:C.name,key:m,href:"#",onClick:i=>o.changePathClick(m)},null,8,["label","onClick"]))),128))]),_:1})]),_:1})]),_:1}),B("div",ht,[B("div",kt,[e(vt)]),B("div",bt,[e(it)])]),e(h,{target:"#va-app-bar-shadow","vertical-offset":"20px","horizontal-offset":"20px","visibility-height":1,speed:50})]),_:1})}}}));export{Lt as default};
