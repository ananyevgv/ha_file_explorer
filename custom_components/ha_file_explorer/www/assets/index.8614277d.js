var J=Object.defineProperty,Q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var I=(n,o,s)=>o in n?J(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s,v=(n,o)=>{for(var s in o||(o={}))X.call(o,s)&&I(n,s,o[s]);if(q)for(var s of q(o))Y.call(o,s)&&I(n,s,o[s]);return n},x=(n,o)=>Q(n,W(o));import{d as H,r as V,a,o as i,c as p,w as t,b as e,e as L,f as z,g as E,F as B,h as c,u as K,t as C,i as G,j as Z,m as M,k as N,l as j,n as O,_ as R,p as S}from"./index.beb4c9a5.js";import{_ as tt}from"./AppLayout.9506230d.js";const et={class:"va-table"},at=["href"],nt={key:1},ot=c(" OK "),lt=H({props:["ok"],setup(n){const o=n;K();const s="File Explorer",f=V(!0),g=new URLSearchParams(location.search),u=V([{name:"Version",value:g.get("v")||"dev"},{name:"Author",value:"shaonianzhentan"},{name:"Link",value:"https://github.com/shaonianzhentan/ha_file_explorer",type:"link"},{name:"UI",value:"https://vuestic.dev",type:"link"},{name:"Icon",value:"https://unpkg.com/@mdi/font@latest/preview.html",type:"link"},{name:"Bilibili",value:"https://space.bilibili.com/39523884",type:"link"},{name:"HA notes",value:"https://ha.jiluxinqing.com",type:"link"}]),_=async()=>{o.ok({})};return(m,d)=>{const h=a("va-button"),r=a("va-modal");return i(),p(r,{modelValue:f.value,"onUpdate:modelValue":d[0]||(d[0]=l=>f.value=l),title:s,"hide-default-actions":!0},{footer:t(()=>[e(h,{onClick:_},{default:t(()=>[ot]),_:1})]),default:t(()=>[L("table",et,[L("tbody",null,[(i(!0),z(B,null,E(u.value,l=>(i(),z("tr",{key:l.name},[L("td",null,C(l.name),1),L("td",null,[l.type==="link"?(i(),z("a",{key:0,href:l.value,target:"_blank"},C(l.value),9,at)):(i(),z("span",nt,C(l.value),1))])]))),128))])])]),_:1},8,["modelValue"])}}}),st=c(" \u53D6\u6D88 "),it=c(" \u786E\u5B9A "),T=H({props:["type","ok","cancel","app"],setup(n){const o=n,s=K(),f=o.type==="file",g=f?"\u6587\u4EF6":"\u6587\u4EF6\u5939",u=o.app(),_=V(""),m=V(!0),d=()=>{o.cancel()},h=async()=>{if(!_.value)return;const r=s.getters.absolutePath(_.value);let l=await Z(f?"file":"folder",r);u.$toast(l.msg),!(l.code>0)&&(s.dispatch("reloadFileList"),o.ok({}))};return(r,l)=>{const k=a("va-input"),$=a("va-button"),w=a("va-modal");return i(),p(w,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=F=>m.value=F),title:G(g),"hide-default-actions":!0},{footer:t(()=>[e($,{outline:"",onClick:d,style:{"margin-right":"20px"}},{default:t(()=>[st]),_:1}),e($,{onClick:h,style:{"margin-left":"20px"}},{default:t(()=>[it]),_:1})]),default:t(()=>[e(k,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=F=>_.value=F),modelModifiers:{trim:!0},placeholder:`${G(g)}\u540D\u79F0`},null,8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])}}}),ct={computed:v(v({},M(["fileList"])),N(["absolutePath"])),methods:x(v({},j(["reloadFileList"])),{deleteClick(n){parent.confirm(`\u786E\u5B9A\u5220\u9664\u6587\u4EF6\u3010${n}\u3011\uFF1F`)&&O(this.absolutePath(n)).then(o=>{this.reloadFileList(),this.$toast(o.msg)})},editClick(n){this.$router.push({name:"editor",params:{name:n}})},addClick(){this.$dialog(T,{type:"file"})}})},_t=c(" \u6587\u4EF6\u5217\u8868 "),ut=c("\u65B0\u589E"),dt=c("\u5220\u9664"),rt=c("\u7F16\u8F91");function pt(n,o,s,f,g,u){const _=a("va-button"),m=a("va-button-group"),d=a("va-button-dropdown"),h=a("va-card-title"),r=a("mdi-icon"),l=a("va-avatar"),k=a("va-list-item-section"),$=a("va-list-item-label"),w=a("va-chip"),F=a("va-list-item"),P=a("va-list"),A=a("va-card-content"),U=a("va-card");return i(),p(U,null,{default:t(()=>[e(h,null,{default:t(()=>[_t,e(d,{outline:"",size:"small"},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[e(_,{onClick:u.addClick},{default:t(()=>[ut]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(P,{style:{"padding-top":"0"}},{default:t(()=>[(i(!0),z(B,null,E(n.fileList,(b,y)=>(i(),p(F,{key:y},{default:t(()=>[e(k,{avatar:""},{default:t(()=>[e(l,null,{default:t(()=>[e(r,{name:b.icon},null,8,["name"])]),_:2},1024)]),_:2},1024),e(k,null,{default:t(()=>[e($,null,{default:t(()=>[c(C(b.name),1)]),_:2},1024),e($,{caption:""},{default:t(()=>[c(C(b.time)+" ",1),b.size?(i(),p(w,{key:0,flat:"",size:"small"},{default:t(()=>[c(C(b.size),1)]),_:2},1024)):S("",!0)]),_:2},1024)]),_:2},1024),e(k,{icon:""},{default:t(()=>[e(d,{size:"small"},{default:t(()=>[e(m,{outline:"",size:"small"},{default:t(()=>[e(_,{onClick:D=>u.deleteClick(b.name)},{default:t(()=>[dt]),_:2},1032,["onClick"]),e(_,{onClick:D=>u.editClick(b.name)},{default:t(()=>[rt]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}var mt=R(ct,[["render",pt]]);const vt={computed:v(v({},M(["folderList","path"])),N(["pathList"])),methods:x(v({},j(["getFileList"])),{showClick(n){this.getFileList(n.name)},addClick(){this.$dialog(T,{type:"dir"})},deleteClick(){const{pathList:n}=this,{name:o}=n[n.length-1];parent.confirm(`\u786E\u5B9A\u5220\u9664\u6587\u4EF6\u5939\u3010${o}\u3011\uFF1F`)&&O(this.path).then(s=>{this.getFileList(n.length-2),this.$toast(s.msg)})}})},ft=c(" \u6587\u4EF6\u5939 "),ht=c("\u5220\u9664"),kt=c("\u65B0\u589E");function bt(n,o,s,f,g,u){const _=a("va-button"),m=a("va-button-group"),d=a("va-button-dropdown"),h=a("va-card-title"),r=a("mdi-icon"),l=a("va-avatar"),k=a("va-list-item-section"),$=a("va-list-item-label"),w=a("va-chip"),F=a("va-icon"),P=a("va-list-item"),A=a("va-list"),U=a("va-card-content"),b=a("va-card");return i(),p(b,null,{default:t(()=>[e(h,null,{default:t(()=>[ft,e(d,{outline:"",size:"small"},{default:t(()=>[e(m,{size:"small"},{default:t(()=>[n.pathList.length>1?(i(),p(_,{key:0,onClick:u.deleteClick},{default:t(()=>[ht]),_:1},8,["onClick"])):S("",!0),e(_,{onClick:u.addClick},{default:t(()=>[kt]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(A,{style:{"padding-top":"0"}},{default:t(()=>[(i(!0),z(B,null,E(n.folderList,(y,D)=>(i(),p(P,{key:D},{default:t(()=>[e(k,{avatar:""},{default:t(()=>[e(l,null,{default:t(()=>[e(r,{name:y.icon},null,8,["name"])]),_:2},1024)]),_:2},1024),e(k,null,{default:t(()=>[e($,null,{default:t(()=>[c(C(y.name),1)]),_:2},1024),e($,{caption:""},{default:t(()=>[c(C(y.time)+" ",1),y.size?(i(),p(w,{key:0,flat:"",size:"small"},{default:t(()=>[c(C(y.size),1)]),_:2},1024)):S("",!0)]),_:2},1024)]),_:2},1024),e(k,{icon:""},{default:t(()=>[e(F,{name:"remove_red_eye",color:"gray",onClick:zt=>u.showClick(y)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}var Ct=R(vt,[["render",bt]]);const gt=c("\u6587\u4EF6\u7BA1\u7406"),$t={class:"row"},yt={class:"flex md6"},Ft={class:"flex md6"},Lt={computed:v({},N(["pathList"])),created(){this.changePathClick(0)},methods:x(v({},j(["getFileList"])),{changePathClick(n){this.getFileList(n)},versionClick(){this.$dialog(lt)}})},Et=H(x(v({},Lt),{setup(n){return(o,s)=>{const f=a("va-button"),g=a("va-breadcrumbs-item"),u=a("va-breadcrumbs"),_=a("va-card-title"),m=a("va-card"),d=a("va-backtop");return i(),p(tt,{class:"views-index"},{left:t(()=>[e(f,{color:"#fff",flat:"",rounded:!1,onClick:o.versionClick},{default:t(()=>[gt]),_:1},8,["onClick"])]),right:t(()=>[]),default:t(()=>[e(m,null,{default:t(()=>[e(_,null,{default:t(()=>[e(u,null,{default:t(()=>[(i(!0),z(B,null,E(o.pathList,(h,r)=>(i(),p(g,{label:h.name,key:r,href:"#",onClick:l=>o.changePathClick(r)},null,8,["label","onClick"]))),128))]),_:1})]),_:1})]),_:1}),L("div",$t,[L("div",yt,[e(Ct)]),L("div",Ft,[e(mt)])]),e(d,{target:"#va-app-bar-shadow","vertical-offset":"20px","horizontal-offset":"20px","visibility-height":1,speed:50})]),_:1})}}}));export{Et as default};
