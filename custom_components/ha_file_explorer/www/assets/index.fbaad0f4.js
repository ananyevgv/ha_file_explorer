var K=Object.defineProperty,O=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var U=(o,n,l)=>n in o?K(o,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[n]=l,v=(o,n)=>{for(var l in n||(n={}))R.call(n,l)&&U(o,l,n[l]);if(S)for(var l of S(n))W.call(n,l)&&U(o,l,n[l]);return o},z=(o,n)=>O(o,Q(n));import{d as G,r as j,a,o as u,c as f,w as t,b as e,e as s,t as $,u as V,f as X,s as Y,m as Z,g as M,h as T,i as A,j as tt,_ as q,k as P,l as H,n as I,F as N,p as D}from"./index.40da415d.js";import{_ as et}from"./AppLayout.d2f11dad.js";const at=s(" \u53D6\u6D88 "),ot=s(" \u786E\u5B9A "),J=G({props:["type","ok","cancel","app"],setup(o){const n=o,l=X(),y=n.type==="file",C=y?"\u6587\u4EF6":"\u6587\u4EF6\u5939",i=n.app(),c=j(""),r=j(!0),h=()=>{n.cancel()},b=async()=>{if(!c.value)return;const d=l.getters.absolutePath(c.value);let _=null;y?_=await Y(d,""):_=await Z(d),l.dispatch("reloadFileList"),i.$toast(_.msg),n.ok({})};return(d,_)=>{const m=a("va-alert"),F=a("va-input"),L=a("va-button"),w=a("va-modal");return u(),f(w,{modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=g=>r.value=g),title:V(C),"hide-default-actions":!0},{footer:t(()=>[e(L,{outline:"",onClick:h,style:{"margin-right":"20px"}},{default:t(()=>[at]),_:1}),e(L,{onClick:b,style:{"margin-left":"20px"}},{default:t(()=>[ot]),_:1})]),default:t(()=>[e(m,{color:"danger"},{default:t(()=>[s(" \u8B66\u544A\uFF1A\u5982\u679C\u5F53\u524D"+$(V(C))+"\u5B58\u5728\uFF0C\u4F1A\u8FDB\u884C\u8986\u76D6\u64CD\u4F5C\uFF0C\u8BF7\u81EA\u884C\u68C0\u67E5\u662F\u5426\u5DF2\u7ECF\u5B58\u5728 ",1)]),_:1}),e(F,{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=g=>c.value=g),modelModifiers:{trim:!0},placeholder:`${V(C)}\u540D\u79F0`},null,8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])}}}),nt={computed:v(v({},M(["fileList"])),T(["absolutePath"])),methods:z(v({},A(["reloadFileList"])),{deleteClick(o){parent.confirm(`\u786E\u5B9A\u5220\u9664\u6587\u4EF6\u3010${o}\u3011\uFF1F`)&&tt(this.absolutePath(o)).then(n=>{this.reloadFileList(),this.$toast(n.msg)})},editClick(o){this.$router.push({name:"editor",params:{name:o}})},addClick(){this.$dialog(J,{type:"file"})}})},lt=s(" \u6587\u4EF6\u5217\u8868 "),st=s("\u65B0\u589E"),_t=s("\u5220\u9664"),ct=s("\u7F16\u8F91");function ut(o,n,l,y,C,i){const c=a("va-button"),r=a("va-button-group"),h=a("va-button-dropdown"),b=a("va-card-title"),d=a("mdi-icon"),_=a("va-avatar"),m=a("va-list-item-section"),F=a("va-list-item-label"),L=a("va-chip"),w=a("va-list-item"),g=a("va-list"),B=a("va-card-content"),x=a("va-card");return u(),f(x,null,{default:t(()=>[e(b,null,{default:t(()=>[lt,e(h,{outline:"",size:"small"},{default:t(()=>[e(r,{size:"small"},{default:t(()=>[e(c,{onClick:i.addClick},{default:t(()=>[st]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(B,null,{default:t(()=>[e(g,{style:{"padding-top":"0"}},{default:t(()=>[(u(!0),P(N,null,H(o.fileList,(p,k)=>(u(),f(w,{key:k},{default:t(()=>[e(m,{avatar:""},{default:t(()=>[e(_,null,{default:t(()=>[e(d,{name:p.icon},null,8,["name"])]),_:2},1024)]),_:2},1024),e(m,null,{default:t(()=>[e(F,null,{default:t(()=>[s($(p.name),1)]),_:2},1024),e(F,{caption:""},{default:t(()=>[s($(p.time)+" ",1),p.size?(u(),f(L,{key:0,flat:"",size:"small"},{default:t(()=>[s($(p.size),1)]),_:2},1024)):I("",!0)]),_:2},1024)]),_:2},1024),e(m,{icon:""},{default:t(()=>[e(h,{size:"small"},{default:t(()=>[e(r,{outline:"",size:"small"},{default:t(()=>[e(c,{onClick:E=>i.deleteClick(p.name)},{default:t(()=>[_t]),_:2},1032,["onClick"]),e(c,{onClick:E=>i.editClick(p.name)},{default:t(()=>[ct]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}var it=q(nt,[["render",ut]]);const dt={computed:v({},M(["folderList"])),methods:z(v({},A(["getFileList"])),{showClick(o){this.getFileList(o.name)},addClick(){this.$dialog(J,{type:"dir"})}})},rt=s(" \u6587\u4EF6\u5939 "),mt=s("\u65B0\u589E");function pt(o,n,l,y,C,i){const c=a("va-button"),r=a("va-button-group"),h=a("va-button-dropdown"),b=a("va-card-title"),d=a("mdi-icon"),_=a("va-avatar"),m=a("va-list-item-section"),F=a("va-list-item-label"),L=a("va-chip"),w=a("va-icon"),g=a("va-list-item"),B=a("va-list"),x=a("va-card-content"),p=a("va-card");return u(),f(p,null,{default:t(()=>[e(b,null,{default:t(()=>[rt,e(h,{outline:"",size:"small"},{default:t(()=>[e(r,{size:"small"},{default:t(()=>[e(c,{onClick:i.addClick},{default:t(()=>[mt]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(B,{style:{"padding-top":"0"}},{default:t(()=>[(u(!0),P(N,null,H(o.folderList,(k,E)=>(u(),f(g,{key:E},{default:t(()=>[e(m,{avatar:""},{default:t(()=>[e(_,null,{default:t(()=>[e(d,{name:k.icon},null,8,["name"])]),_:2},1024)]),_:2},1024),e(m,null,{default:t(()=>[e(F,null,{default:t(()=>[s($(k.name),1)]),_:2},1024),e(F,{caption:""},{default:t(()=>[s($(k.time)+" ",1),k.size?(u(),f(L,{key:0,flat:"",size:"small"},{default:t(()=>[s($(k.size),1)]),_:2},1024)):I("",!0)]),_:2},1024)]),_:2},1024),e(m,{icon:""},{default:t(()=>[e(w,{name:"remove_red_eye",color:"gray",onClick:Ft=>i.showClick(k)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}var vt=q(dt,[["render",pt]]);const ft=s("\u6587\u4EF6\u7BA1\u7406"),ht={class:"row"},kt={class:"flex md6"},Ct={class:"flex md6"},bt={computed:v({},T(["pathList"])),created(){this.changePathClick(0)},methods:z(v({},A(["getFileList"])),{changePathClick(o){this.getFileList(o)}})},Lt=G(z(v({},bt),{setup(o){return(n,l)=>{const y=a("va-button"),C=a("va-breadcrumbs-item"),i=a("va-breadcrumbs"),c=a("va-card-title"),r=a("va-card"),h=a("va-backtop");return u(),f(et,{class:"views-index"},{left:t(()=>[e(y,{color:"#fff",flat:"",rounded:!1},{default:t(()=>[ft]),_:1})]),right:t(()=>[]),default:t(()=>[e(r,null,{default:t(()=>[e(c,null,{default:t(()=>[e(i,null,{default:t(()=>[(u(!0),P(N,null,H(n.pathList,(b,d)=>(u(),f(C,{label:b.name,key:d,href:"#",onClick:_=>n.changePathClick(d)},null,8,["label","onClick"]))),128))]),_:1})]),_:1})]),_:1}),D("div",ht,[D("div",kt,[e(vt)]),D("div",Ct,[e(it)])]),e(h,{target:"#va-app-bar-shadow","vertical-offset":"20px","horizontal-offset":"20px","visibility-height":1,speed:50})]),_:1})}}}));export{Lt as default};
